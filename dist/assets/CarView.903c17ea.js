import{_,h as d,o as h,c as u,a as s,t as c,n as p,e as n,r as m,d as v}from"./index.b022a2b4.js";const f={mounted(){const a=parseInt(this.$route.params.id),t=this;fetch(`http://192.168.100.199:8080/api/cars/${a}`,{method:"GET",headers:d.authHeader()}).then(function(o){return o.json()}).then(function(o){t.car=o,t.checkFav()}).catch(function(o){console.log(o)})},data(){return{isFav:!1,car:{},carFavs:[]}},computed:{carID(){return parseInt(this.$route.params.id)},API_ENDPOINT:function(){return"http://192.168.100.199:8080"}},methods:{checkFav(){var o;const a=JSON.parse((o=localStorage.user)!=null?o:"{}"),t=this;fetch(`http://192.168.100.199:8080/api/users/${a.id}/favourites`,{method:"GET",headers:d.authHeader()}).then(async i=>{const e=await i.json();t.carFavs=e.map(r=>r.id),t.carFavs.includes(t.car.id)&&(t.isFav=!0,console.log("Fav !"))})},getCar(){},makeFav(){const a=this;fetch(`http://192.168.100.199:8080/api/cars/${this.car.id}/favourites`,{method:"POST",headers:d.authHeader()}).then(t=>{t.status===201&&(a.isFav=!a.isFav)})}}},g={class:"card shadow p-3 mb-5 bg-body rounded mx-auto",style:{width:"55vw"}},x=["src"],F={class:"card-body"},y={class:"card-title"},b={class:"card-title text-muted"},w={class:"card-text"},C={class:"row"},k={class:"col-md-6"},$={class:"card-text"},I=n(" Colour \xA0 \xA0 "),N={class:"col-md-6"},T={class:"card-text"},E=n(" Body Type \xA0 \xA0 "),P={class:"row mb-5"},D={class:"col-md-6"},O={class:"card-text"},B=n(" Price \xA0 \xA0 "),S={class:"col-md-6"},V={class:"card-text"},j=n(" Transmission \xA0 \xA0 "),H={class:"row"},A=s("div",{class:"col"},[s("button",{class:"btn btn-warning text-light"},"Email Owner")],-1),G={class:"col d-flex justify-content-end"},z={class:"btn-round"};function J(a,t,o,i,e,r){return h(),u("div",g,[s("img",{src:r.API_ENDPOINT+"/"+e.car.photo,alt:"car.make",class:"card-img-top"},null,8,x),s("div",F,[s("h3",y,c(e.car.make),1),s("h4",b,c(e.car.model),1),s("p",w,c(e.car.description),1),s("div",C,[s("div",k,[s("p",$,[I,s("strong",null,c(e.car.color),1)])]),s("div",N,[s("p",T,[E,s("strong",null,c(e.car.car_type),1)])])]),s("div",P,[s("div",D,[s("p",O,[B,s("strong",null,c(e.car.price),1)])]),s("div",S,[s("p",V,[j,s("strong",null,c(e.car.transmission),1)])])]),s("div",H,[A,s("div",G,[s("button",z,[s("i",{class:p([[e.isFav?"fa-solid":"fa-regular"],"fa fa-heart"]),onClick:t[0]||(t[0]=l=>r.makeFav())},null,2)])])])])])}var U=_(f,[["render",J]]);const q={data(){},components:{Car:U}},K={class:"container"};function L(a,t,o,i,e,r){const l=m("Car");return h(),u("div",K,[v(l)])}var Q=_(q,[["render",L]]);export{Q as default};
